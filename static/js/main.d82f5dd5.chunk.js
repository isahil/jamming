(this.webpackJsonpjamming=this.webpackJsonpjamming||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(23)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),c=a(9),i=a.n(c),o=(a(15),a(1)),u=a(2),l=a(4),m=a(3),h=a(5),p=(a(16),a(17),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).search=function(){return a.props.onSearch(a.state.term)},a.handleTermChange=function(e){return a.setState({term:e.target.value})},a.state={term:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"SearchBar"},s.a.createElement("input",{onChange:this.handleTermChange,placeholder:"Enter A Song, Album, or Artist"}),s.a.createElement("button",{onClick:this.search,className:"SearchButton"},"SEARCH"))}}]),t}(r.Component)),d=(a(18),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).renderAction=function(){return a.state.isRemoval?"-":"+"},a.addTrack=function(){return a.props.onAdd(a.props.track)},a.removeTrack=function(){return a.props.onRemove(a.props.track)},a.handleClick=function(){return a.state.isRemoval?a.removeTrack():a.addTrack()},a.state={isRemoval:a.props.isRemoval},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.track,t=e.name,a=e.artist,n=e.album;return s.a.createElement("div",{className:"Track"},s.a.createElement("div",{className:"Track-information"},s.a.createElement("h3",null,t),s.a.createElement("p",null,a," | ",n)),s.a.createElement("button",{onClick:this.handleClick,className:"Track-action"},this.renderAction()))}}]),t}(r.Component)),f=(a(19),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onAdd,a=e.onRemove,n=e.isRemoval;return s.a.createElement("div",{className:"TrackList"},this.props.tracks.map((function(e){return s.a.createElement(d,{key:e.id,onAdd:t,onRemove:a,isRemoval:n,track:e})})))}}]),t}(r.Component)),v=(a(20),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onAdd,a=e.searchResults;return s.a.createElement("div",{className:"SearchResults"},s.a.createElement("h2",null,"Results"),s.a.createElement(f,{onAdd:t,isRemoval:!1,tracks:a}))}}]),t}(r.Component)),k=(a(21),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleNameChange=function(e){a.props.onNameChange(e.target.value)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Playlist"},s.a.createElement("input",{onChange:this.handleNameChange,defaultValue:"NewPlaylist"}),s.a.createElement(f,{onRemove:this.props.onRemove,isRemoval:!0,tracks:this.props.playListTracks}),s.a.createElement("button",{onClick:this.props.onSave,className:"Playlist-save"},"SAVE TO SPOTIFY"))}}]),t}(r.Component)),y=a(6),b=a.n(y),O=a(7),j="".concat("c416a4cd61774cebbfac3b524975d148"),T={getAccessToken:function(){if(n)return n;var e=window.location.href.match(/access_token=([^&]*)/),t=window.location.href.match(/expires_in=([^&]*)/);if(e&&t){n=e[1];var a=Number(t[1]);return window.setTimeout((function(){return n=""}),1e3*a),window.history.pushState("Access Token",null,"/"),n}window.location="https://accounts.spotify.com/authorize?client_id=".concat(j,"&response_type=token&scope=playlist-modify-public&redirect_uri=").concat("http://localhost:3000/")},search:function(e){var t=this;return Object(O.a)(b.a.mark((function a(){var n,r,s;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.getAccessToken(),a.next=3,fetch("https://api.spotify.com/v1/search?type=track&q=".concat(e),{headers:{Authorization:"Bearer ".concat(n)}});case 3:return r=a.sent,a.next=6,r.json();case 6:if((s=a.sent).tracks){a.next=9;break}return a.abrupt("return",[]);case 9:return a.next=11,s.tracks.items.map((function(e){return{id:e.id,name:e.name,artist:e.artists[0].name,album:e.album.name,uri:e.uri}}));case 11:return a.abrupt("return",a.sent);case 12:case"end":return a.stop()}}),a)})))()},savePlaylist:function(e,t){var a=this;return Object(O.a)(b.a.mark((function n(){var r,s,c,i,o,u,l,m;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&t.length){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.getAccessToken();case 4:return r=n.sent,s={Authorization:"Bearer ".concat(r)},n.next=8,fetch("https://api.spotify.com/v1/me",{headers:s});case 8:return i=n.sent,n.next=11,i.json();case 11:return o=n.sent,n.next=14,o.id;case 14:return c=n.sent,n.next=17,fetch("https://api.spotify.com/v1/users/".concat(c,"/playlists"),{headers:s,method:"POST",body:JSON.stringify({name:e})});case 17:return u=n.sent,n.next=20,u.json();case 20:return l=n.sent,n.next=23,l.id;case 23:return m=n.sent,n.next=26,fetch("https://api.spotify.com/v1/users/".concat(c,"/playlists/").concat(m,"/tracks"),{headers:s,method:"POST",body:JSON.stringify({uris:t})});case 26:return n.abrupt("return",n.sent);case 27:case"end":return n.stop()}}),n)})))()}},E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).addTrack=function(e){var t=a.state.playListTracks;t.find((function(t){return t.id===e.id}))||(t.push(e),a.setState({playListTracks:t}))},a.removeTrack=function(e){var t=a.state.playListTracks;t=t.filter((function(t){return t.id!==e.id})),a.setState({playListTracks:t})},a.updatePlaylistName=function(e){return a.setState({playListName:e})},a.savePlaylist=function(){var e=a.state.playListTracks.map((function(e){return e.uri}));T.savePlaylist(a.state.playListName,e).then((function(){a.setState({playListName:"New Playlist",playListTracks:[]})}))},a.search=function(e){T.search(e).then((function(e){a.setState({searchResults:e})}))},a.state={searchResults:[],playListName:"New Playlist",playListTracks:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.searchResults,a=e.playListTracks;return s.a.createElement("div",null,s.a.createElement("h1",null,"Ja",s.a.createElement("span",{className:"highlight"},"mmm"),"ing"),s.a.createElement("div",{className:"App"},s.a.createElement(p,{onSearch:this.search}),s.a.createElement("div",{className:"App-playlist"},s.a.createElement(v,{onAdd:this.addTrack,searchResults:t}),s.a.createElement(k,{playListTracks:a,onRemove:this.removeTrack,onNameChange:this.updatePlaylistName,onSave:this.savePlaylist}))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.d82f5dd5.chunk.js.map